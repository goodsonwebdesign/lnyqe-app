<div
  class="min-content-width flex min-h-screen w-full flex-col overflow-hidden bg-neutral-50 text-neutral-900 dark:bg-neutral-900 dark:text-neutral-100"
>
  <!-- Full-screen loading overlay for redirects -->
  <div
    *ngIf="isRedirecting$ | async"
    class="fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm dark:bg-neutral-900/80"
  >
    <app-loading-spinner size="lg"></app-loading-spinner>
  </div>
  <!-- Main Header - Using our toolbar component -->
  <app-toolbar
    [lightModeLogo]="lightModeLogo"
    [darkModeLogo]="darkModeLogo"
    (openServiceRequest)="openServiceRequestFlyout($event)"
    (login)="login()"
  >
  </app-toolbar>

  <!-- Add Service Request Component directly to the layout -->
  <app-service-request></app-service-request>

  <!-- Main Content Area - Added padding to account for fixed toolbar height -->
  <div class="main-content relative flex-1 pt-16 md:pt-[4.5rem]">


    <!-- Main Content Container -->
    <div
      class="main-content-area relative flex h-full w-full flex-col transition-all duration-300 ease-in-out"

    >
      <!-- Main Content with simplified structure -->
      <main class="flex-1 px-4 py-4 sm:px-6 sm:py-6 md:px-8">
        <router-outlet></router-outlet>
      </main>

      <!-- Redesigned Footer -->
      <footer
        class="dark:via-neutral-850 safe-area-inset-bottom relative overflow-hidden border-t border-neutral-200/70 bg-gradient-to-r from-white via-neutral-50 to-white py-4 dark:border-neutral-700/70 dark:from-neutral-800 dark:to-neutral-800 sm:py-6"

      >
        <!-- Decorative elements -->
        <div
          class="absolute right-0 top-0 -mr-32 -mt-32 hidden h-64 w-64 rounded-full bg-primary-500/5 md:block"
        ></div>
        <div
          class="absolute bottom-0 left-0 -mb-32 -ml-32 hidden h-64 w-64 rounded-full bg-primary-500/5 md:block"
        ></div>

        <app-container>
          <div
            class="relative flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0"
          >
            <!-- Left: Logo and copyright -->
            <div
              class="flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-x-4 sm:space-y-0"
            >
              <a routerLink="/" class="flex flex-shrink-0 items-center">
                <img
                  [ngSrc]="themeService.isDarkMode() ? darkModeLogo : lightModeLogo"
                  alt="LNYQE Logo"
                  class="h-6 w-auto object-contain"
                  width="144"
                  height="24"
                />
              </a>
              <div class="flex flex-col">
                <p class="text-sm text-neutral-500 dark:text-neutral-400">
                  &copy; {{ currentYear }} LNYQE. All rights reserved.
                </p>
              </div>
            </div>

            <!-- Right: Links and social -->
            <div class="flex flex-col space-y-4 sm:flex-row sm:items-center sm:space-y-0">
              <!-- Footer links -->
              <div class="hide-scrollbar -mb-1 flex gap-4 overflow-x-auto pb-1 text-sm sm:mr-6">
                <a
                  href="#"
                  class="touch-manipulation whitespace-nowrap text-neutral-500 transition-colors duration-200 hover:text-primary-600 dark:text-neutral-400 dark:hover:text-primary-400"
                  >Privacy</a
                >
                <a
                  href="#"
                  class="touch-manipulation whitespace-nowrap text-neutral-500 transition-colors duration-200 hover:text-primary-600 dark:text-neutral-400 dark:hover:text-primary-400"
                  >Terms</a
                >
                <a
                  href="#"
                  class="touch-manipulation whitespace-nowrap text-neutral-500 transition-colors duration-200 hover:text-primary-600 dark:text-neutral-400 dark:hover:text-primary-400"
                  >Help</a
                >
              </div>

              <!-- Social icons -->
              <div class="flex gap-2">
                <a
                  href="#"
                  class="flex h-8 w-8 touch-manipulation items-center justify-center rounded-full bg-white text-neutral-600 shadow-sm transition-all duration-200 hover:bg-primary-50 hover:text-primary-600 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-900/30 dark:hover:text-primary-400"
                  aria-label="Twitter"
                >
                  <app-icon name="mdi:twitter" size="sm"></app-icon>
                </a>
                <a
                  href="#"
                  class="flex h-8 w-8 touch-manipulation items-center justify-center rounded-full bg-white text-neutral-600 shadow-sm transition-all duration-200 hover:bg-primary-50 hover:text-primary-600 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-900/30 dark:hover:text-primary-400"
                  aria-label="LinkedIn"
                >
                  <app-icon name="mdi:linkedin" size="sm"></app-icon>
                </a>
                <a
                  href="#"
                  class="flex h-8 w-8 touch-manipulation items-center justify-center rounded-full bg-white text-neutral-600 shadow-sm transition-all duration-200 hover:bg-primary-50 hover:text-primary-600 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-900/30 dark:hover:text-primary-400"
                  aria-label="Instagram"
                >
                  <app-icon name="mdi:instagram" size="sm"></app-icon>
                </a>
              </div>
            </div>
          </div>
        </app-container>
      </footer>
    </div>
  </div>
</div>


